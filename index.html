<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>隆LA BOMBA!</title>
    <style>
        /* --- ESTILOS CSS --- */
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); /* Fuente para el t铆tulo */

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            text-align: center;
            background-color: #282c34; /* Fondo oscuro */
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh; /* Ocupa toda la pantalla */
            margin: 0;
            overflow: hidden; /* Evita barras de scroll */
        }
        h1 {
            font-family: 'Press Start 2P', cursive; /* Fuente m谩s original */
            font-size: 3.5rem; /* Tama帽o m谩s grande */
            color: #ff0000; /* Rojo vibrante */
            text-shadow: 4px 4px 0px rgba(0, 0, 0, 0.7); /* Sombra para hacerlo vistoso */
            margin-bottom: 30px; /* Margen reducido */
            font-weight: bold; 
        }
        #bomb-container {
            position: relative;
            height: 600px; /* Ajustado a 600px */
            width: 600px; /* Ajustado a 600px */
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #bomb {
            font-size: 500px; /* Adaptado al nuevo tama帽o (antes 800px) */
            /* Animaci贸n de temblor */
            animation: shake 0.4s infinite;
            transition: opacity 0.2s;
        }
        #explosion {
            font-size: 600px; /* Adaptado al nuevo tama帽o (antes 1000px) */
            position: absolute; /* Se superpone a la bomba */
            color: #ffc107; /* Color naranja/amarillo */
        }
        
        /* Clase para ocultar elementos */
        .hidden {
            display: none;
        }

        /* Animaci贸n de temblor para la bomba */
        @keyframes shake {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(4px, 4px) rotate(1.5deg); } /* Temblor ajustado (antes 5px, 2deg) */
            50% { transform: translate(0, 0) rotate(0eg); }
            75% { transform: translate(-4px, 4px) rotate(-1.5deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }

        /* Animaci贸n de explosi贸n */
        @keyframes explode {
            0% { transform: scale(0.8); opacity: 1; } 
            100% { transform: scale(2); opacity: 0; } 
        }
        
        /* Clase para activar la animaci贸n de explosi贸n */
        .explode-animation {
            animation: explode 0.7s forwards;
        }

        /* Estilo del bot贸n */
        button {
            font-size: 1.8rem; 
            padding: 15px 30px;
            margin-top: 30px; /* Margen reducido (antes 50px) */
            cursor: pointer;
            background-color: #c00; 
            color: white;
            border: none;
            border-radius: 8px;
            transition: background-color 0.3s, opacity 0.3s, transform 0.2s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
        }
        button:hover {
            background-color: #e00;
            transform: translateY(-2px); 
        }
        button:disabled {
            background-color: #555;
            opacity: 0.6;
            cursor: not-allowed;
            transform: translateY(0);
        }
    </style>
</head>
<body>

    <h1>隆LA BOMBA!</h1>
    
    <div id="bomb-container">
        <div id="bomb"></div>
        <div id="explosion" class="hidden"></div>
    </div>
    
    <button id="startButton">Activar Bomba</button>

    <!-- 
      隆CORREGIDO! 
      Ahora apunta a los archivos de tu repositorio.
      El atributo 'loop' asegura que el tic-toc se repita.
    -->
    <audio id="tickSound" src="tic-toc.mp3" loop preload="auto"></audio>
    <audio id="explosionSound" src="explosion.mp3" preload="auto"></audio>

    <script>
        // --- LGICA JAVASCRIPT ---

        const startButton = document.getElementById('startButton');
        const bomb = document.getElementById('bomb');
        const explosion = document.getElementById('explosion');
        const tickSound = document.getElementById('tickSound');
        const explosionSound = document.getElementById('explosionSound');

        startButton.addEventListener('click', startBomb);

        function startBomb() {
            startButton.disabled = true;
            startButton.textContent = "Tic, Toc...";

            bomb.classList.remove('hidden');
            explosion.classList.add('hidden');
            explosion.classList.remove('explode-animation'); 

            const minTime = 30000;
            const maxTime = 60000;
            const randomTime = Math.floor(Math.random() * (maxTime - minTime + 1)) + minTime;

            console.log(`La bomba explotar谩 en ${randomTime / 1000} segundos.`);

            // --- INICIO DE LA CORRECCIN DE AUDIO ---
            
            // 1. "Prepara" el sonido de explosi贸n para evitar el bloqueo del navegador
            // Esto lo "desbloquea" para que se pueda usar despu茅s en el setTimeout
            explosionSound.play();
            explosionSound.pause();
            explosionSound.currentTime = 0;

            // 2. Inicia el sonido tic-toc (que ya tiene 'loop' en el HTML)
            tickSound.currentTime = 0; 
            tickSound.play().catch(error => {
                console.warn("El navegador bloque贸 el sonido 'tic-toc'.", error);
            });
            
            // --- FIN DE LA CORRECCIN DE AUDIO ---

            setTimeout(() => {
                explode();
            }, randomTime);
        }

        function explode() {
            // 1. Detiene el tic-toc
            tickSound.pause();
            
            // 2. Reproduce la explosi贸n
            explosionSound.currentTime = 0;
            explosionSound.play().catch(error => {
                console.warn("Error al reproducir el sonido de explosi贸n:", error);
            });

            // L贸gica visual
            bomb.classList.add('hidden');
            explosion.classList.remove('hidden');
            explosion.classList.add('explode-animation');

            // Reactiva el bot贸n
            setTimeout(() => {
                startButton.disabled = false;
                startButton.textContent = "Activar de Nuevo";
            }, 1000); 
        }
    </script>

</body>
</html>
